(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"6kbm":function(e,t,a){"use strict";a.r(t);a("2qtc");var s,n,i,r,o=a("kLXV"),c=a("jehZ"),l=a.n(c),d=(a("T2oS"),a("W9HT")),p=(a("+L6B"),a("2/Rp")),u=a("2Taf"),m=a.n(u),f=a("vZ4D"),h=a.n(f),y=a("l4Ni"),b=a.n(y),P=a("ujKo"),v=a.n(P),k=a("MhPg"),g=a.n(k),E=(a("y8nQ"),a("Vl3Y")),I=(a("5NDa"),a("5rEg")),w=a("q1tI"),C=a.n(w),_=a("MuoO"),x=a("KMT0"),S=a("+n12"),T=I["a"].TextArea,R={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},V=(s=E["a"].create(),n=Object(_["connect"])(function(e){var t=e.Process,a=e.loading;return{Process:t,loading:a.models.Process}}),s(i=n((r=function(e){function t(){var e,a;m()(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return a=b()(this,(e=v()(t)).call.apply(e,[this].concat(n))),a.state={visible:!1},a.updateSubmit=function(e){var t=a.props,s=t.dispatch,n=t.form.validateFields;n(function(e,t){e||(t.id=a.state.id,s({type:"Process/fetch_updProcessItem",payload:t,callback:function(e){s({type:"Process/fetch_getProcessList",payload:{start:0,count:10},callback:function(e){a.setState({visible:!1},function(){a.onRef.setState({start:1})})}})}}))})},a.handleVisible=function(e){a.setState({visible:!a.state.visible})},a.setOnRef=function(e){a.onRef=e},a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"Process/fetch_getProcessList",payload:S["l"]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.Process,s=a.process_list,n=a.process_chart,i=t.form.getFieldDecorator,r=[{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u5907\u6ce8",dataIndex:"desc",key:"desc"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime"},{title:"\u64cd\u4f5c",dataIndex:"id",key:"id",render:function(t,a){return C.a.createElement(p["a"],{type:"primary",onClick:function(a){a.stopPropagation(),e.props.dispatch({type:"Process/fetch_getProcessChart",payload:{id:t}}),e.setState({id:t,visible:!0})}},"\u4fee\u6539")}}];return C.a.createElement("div",{style:{backgroundColor:" #ffffff",minHeight:"91vh"}},C.a.createElement(d["a"],{spinning:this.props.loading},C.a.createElement(x["a"],{columns:r,dataSource:s,type:"Process/fetch_getProcessList",delButton:"Process/fetch_delProcessItem",addButton:"Process/fetch_addProcessItem",addButtonText:"\u65b0\u5efa\u6a21\u677f",onRef:this.setOnRef})),this.state.visible&&C.a.createElement(o["a"],{title:"\u4fee\u6539\u6d41\u7a0b\u6a21\u677f",centered:!0,visible:this.state.visible,onCancel:this.handleVisible,footer:[C.a.createElement(p["a"],{key:"submit",type:"primary",onClick:this.updateSubmit,style:{marginRight:15}},"\u786e\u5b9a"),C.a.createElement(p["a"],{key:"back",onClick:this.handleVisible},"\u53d6\u6d88")]},C.a.createElement(E["a"].Item,l()({label:"\u6d41\u7a0b\u540d\u79f0"},R),i("name",{rules:[{required:!0,message:"Please input your name!"}],initialValue:n&&n.name})(C.a.createElement(I["a"],null))),C.a.createElement(E["a"].Item,l()({label:"\u5907\u6ce8"},R),i("desc",{initialValue:n&&n.desc})(C.a.createElement(T,{rows:4,style:{resize:"none"}})))))}}]),t}(w["PureComponent"]),i=r))||i)||i);t["default"]=V}}]);