(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"8F5T":function(e,a,t){"use strict";t.r(a);t("IzEo");var n,l,i,r,o=t("bx4M"),s=t("jehZ"),u=t.n(s),c=(t("DZo9"),t("8z0m")),d=(t("+L6B"),t("2/Rp")),m=t("2Taf"),g=t.n(m),p=t("vZ4D"),f=t.n(p),h=t("l4Ni"),v=t.n(h),E=t("ujKo"),y=t.n(E),b=t("MhPg"),w=t.n(b),F=(t("5NDa"),t("5rEg")),S=(t("y8nQ"),t("Vl3Y")),C=(t("OaEy"),t("2fM7")),x=t("q1tI"),k=t.n(x),V=t("MuoO"),A=t("+n12"),M=t("zwU1"),O=t.n(M),T=t("k3xQ"),j=t.n(T),z=(t("wd/R"),t("CtBw")),D=t.n(z),N=t("Bolg"),B=t.n(N),I=t("PJJi"),q=t.n(I),P=t("HBqT"),J=t.n(P),L=C["a"].Option,R=[{lable:"\u63d0\u793a\u97f31",value:1},{lable:"\u63d0\u793a\u97f32",value:2},{lable:"\u63d0\u793a\u97f33",value:3},{lable:"\u63d0\u793a\u97f34",value:4}],U=S["a"].Item,Z=(F["a"].TextArea,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}}}),_=(n=S["a"].create(),l=Object(V["connect"])(function(e){var a=e.config;return{config:a}}),n(i=l((r=function(e){function a(){var e,t;g()(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return t=v()(this,(e=y()(a)).call.apply(e,[this].concat(l))),t.state={file:void 0,isSoundFlag:!0},t.fileChange=function(e){var a=e&&e.file;t.setState({file:a.response&&a.response.value||{}})},t.handleSubmit=function(e){var a=t.props,n=a.form.validateFields,l=a.dispatch,i=t.state,r=i.file,o=i.isSoundFlag;n(function(e,a){e||(a.imagePath=r||void 0,a.soundFlag=o,void 0===a.soundNum&&(a.soundNum=1),l({type:"config/fetch_updConfigItem",payload:a,callback:function(e){0===e.status&&window.location.reload(!0)}}))})},t.onChange=function(e){var a="";1===e?a=D.a:2===e?a=B.a:3===e?a=q.a:4===e&&(a=J.a),t.refs.audio2.src=a,t.refs.audio2.load(),t.refs.audio2.play(),console.log(t.refs.audio2,"this.refs.audio2")},t}return w()(a,e),f()(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.dispatch;a({type:"config/fetch_getConfigItem",callback:function(a){0===a.status&&e.setState({file:a.value&&a.value.imagePath,isSoundFlag:a.value&&a.value.soundFlag||!1})}})}},{key:"render",value:function(){var e=this,a=this.props,t=a.form.getFieldDecorator,n=(a.loading,a.config.config_item),l=this.state.file;return k.a.createElement(x["Fragment"],null,k.a.createElement("audio",{ref:"audio2",controls:!0,style:{position:"absolute",zIndex:-1}},k.a.createElement("source",{type:"audio/mpeg"}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u5143\u7d20\u3002"),k.a.createElement(o["a"],{bordered:!1,style:{paddingTop:59}},k.a.createElement("div",{style:{width:430,margin:"0 auto",marginBottom:30}},k.a.createElement("div",{style:{margin:18,textAlign:"center"}},k.a.createElement("div",{style:{border:"1px dashed #7d7d7d",width:"100%",height:134}},k.a.createElement("img",{src:l&&Object(A["e"])(l)||O.a,alt:"",style:{height:100,width:136,marginTop:17}})),k.a.createElement("div",{style:{marginTop:12}},k.a.createElement(c["a"],{onChange:this.fileChange,name:"file",accept:".jpg,.jpeg,.png",action:Object(A["e"])("/api/file/upload?fileType=5"),showUploadList:!1,beforeUpload:A["c"],headers:{Authorization:A["v"]}},k.a.createElement(d["a"],{type:"primary"},"\u4e0a\u4f20Logo"))))),k.a.createElement(S["a"],{className:j.a.personalFormWarp,style:{textAlign:"center"}},k.a.createElement(U,u()({label:"id",style:{display:"none"}},Z),t("id",{initialValue:n&&n.id})(k.a.createElement(F["a"],null))),k.a.createElement(U,u()({label:"\u5ba2\u6237\u540d\u79f0"},Z),t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"},{validator:A["x"]}],initialValue:n&&n.name})(k.a.createElement(F["a"],null))),k.a.createElement(U,u()({label:"\u9644\u4ef6\u4e0a\u4f20\u5927\u5c0f\u9650\u5236"},Z),t("fileMaxSize",{getValueFromEvent:function(e){return e.target.value.replace(/\D/g,"")},initialValue:n&&n.fileMaxSize})(k.a.createElement(F["a"],{addonAfter:"MB"}))),k.a.createElement(U,u()({},Z,{label:"\u8d85\u65f6\u9600\u503c"}),t("timeOut",{getValueFromEvent:function(e){return e.target.value.replace(/\D/g,"")},initialValue:n&&n.timeOut})(k.a.createElement(F["a"],{addonAfter:"\u5c0f\u65f6"}))),k.a.createElement(U,u()({},Z,{label:"\u5730\u56fe\u4e2d\u5fc3\u70b9\u7ecf\u5ea6"}),t("longitude",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ecf\u5ea6"},{pattern:A["h"],message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7ecf\u5ea6"}],initialValue:n&&n.longitude})(k.a.createElement(F["a"],null))),k.a.createElement(U,u()({},Z,{label:"\u5730\u56fe\u4e2d\u5fc3\u70b9\u7eac\u5ea6"}),t("latitude",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7eac\u5ea6"},{pattern:A["h"],message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7eac\u5ea6"}],initialValue:n&&n.latitude})(k.a.createElement(F["a"],null))),k.a.createElement(U,u()({},Z,{label:"\u6d88\u606f\u63d0\u793a\u97f3",style:{textAlign:"left"}}),k.a.createElement(d["a"],{type:"primary",disabled:this.state.isSoundFlag,style:{marginRight:28},onClick:function(){e.setState({isSoundFlag:!0})}},"\u5f00\u542f"),k.a.createElement(d["a"],{type:"primary",disabled:!this.state.isSoundFlag,onClick:function(){e.setState({isSoundFlag:!1})}},"\u5173\u95ed")),this.state.isSoundFlag&&k.a.createElement(U,u()({},Z,{label:"\u9009\u62e9\u63d0\u793a\u97f3"}),t("soundNum",{initialValue:n&&n.soundNum})(k.a.createElement(C["a"],{placeholder:"\u8bf7\u9009\u62e9\u63d0\u793a\u97f3",onChange:this.onChange},R.map(function(e){return k.a.createElement(L,{value:e.value,key:e.value},e.lable)})))),k.a.createElement(d["a"],{type:"primary",onClick:this.handleSubmit},"\u4fdd\u5b58"))))}}]),a}(x["PureComponent"]),i=r))||i)||i);a["default"]=_}}]);